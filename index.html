<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>유병자 인수가이드</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root{
      --hanwha:#ff7f00;
      --hanwha-dark:#e67100;
      --bg:#f8f9fa;
      --card:#ffffff;
      --text:#333;
      --muted:#777;
      --border:#e6e6e6;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Arial, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans KR", sans-serif;
      background:var(--bg);
      color:var(--text);
    }

    /* ====== 추가된 로고 영역 ====== */
    .header {
      position:fixed;
      top:0;
      left:0;
      width:100%;
      background:#fff;
      z-index:1000;
      display:flex;
      align-items:center;
      padding:8px 16px;
      border-bottom:2px solid var(--hanwha);
    }
    .header img {
      height:40px;
      cursor:pointer;
    }

    .screen{
      min-height:100vh;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      padding:80px 1rem 2rem; /* header 공간 확보 위해 top padding 추가 */
    }
    .app-title{
      font-size:24px;
      font-weight:700;
      color:var(--hanwha);
      margin-bottom:2rem;
      text-align:center;
    }
    .card{
      width:100%;
      max-width:520px;
      background:var(--card);
      border-radius:16px;
      box-shadow:0 6px 18px rgba(0,0,0,.08);
      padding:20px;
    }
    h2{margin:0 0 .75rem 0}
    .row{margin-bottom:.75rem}
    input{
      width:100%;
      padding:12px 14px;
      border:1px solid var(--border);
      border-radius:10px;
      font-size:16px;
      outline:none;
    }
    input:focus{border-color:var(--hanwha)}
    button{
      width:100%;
      padding:12px 14px;
      background:var(--hanwha);
      color:#fff;
      border:none;
      border-radius:10px;
      font-weight:700;
      cursor:pointer;
      font-size:16px;
      margin-bottom:8px;
    }
    button:hover{background:var(--hanwha-dark)}
    button.secondary{
      background:#6c757d;
      margin-bottom:0;
    }
    button.secondary:hover{background:#545b62}
    button.reset{
      background:#dc3545;
      margin-top:8px;
    }
    button.reset:hover{background:#c82333}
    button.debug{
      background:#17a2b8;
      margin-bottom:8px;
    }
    button.debug:hover{background:#138496}
    button.logout{
      background:#28a745;
      margin-bottom:8px;
    }
    button.logout:hover{background:#218838}
    .hint{color:var(--muted); font-size:13px; margin-top:.25rem}
    .error{color:#d93025; font-size:14px; margin-top:.5rem}
    .success{color:#137333; font-size:13px}
    .debug{color:#17a2b8; font-size:12px; margin-top:.5rem; background:#f8f9fa; padding:8px; border-radius:5px; font-family:monospace; white-space:pre-wrap; max-height:200px; overflow-y:auto;}
    .container-narrow{max-width:760px}
    .results{margin-top:1rem}
    .result-card{
      background:#fff;
      border:1px solid var(--border);
      border-radius:14px;
      padding:16px;
      box-shadow:0 2px 8px rgba(0,0,0,.04);
      margin-bottom:12px;
    }
    .result-title{
      font-size:18px;
      font-weight:700;
      color:#222;
      margin-bottom:6px;
    }
    .result-sub{color:#444; margin:.25rem 0 .5rem 0}
    .info-table{
      width:100%;
      border-collapse:collapse;
      margin-top:.25rem;
      font-size:14px;
    }
    .info-table th,.info-table td{
      border:1px solid var(--border);
      padding:8px;
      text-align:center;
      white-space:nowrap;
    }
    .restrictions{
      margin-top:.5rem;
      padding:.5rem .75rem;
      background:#fafafa;
      border:1px dashed var(--border);
      border-radius:10px;
      font-size:14px;
      white-space:pre-line;
    }
    .meta{
      margin-top:.5rem;
      font-size:12px;
      color:var(--muted);
      text-align:center;
    }
    .user-info{
      position:fixed;
      top:10px;
      right:10px;
      background:rgba(255,127,0,0.1);
      padding:8px 12px;
      border-radius:20px;
      font-size:12px;
      color:var(--hanwha);
      font-weight:600;
      display:flex;
      align-items:center;
      gap:8px;
    }
    .user-info button{
      padding:4px 8px;
      font-size:11px;
      margin:0;
      width:auto;
      min-width:50px;
    }
    .loading{
      display:inline-block;
      animation:spin 1s linear infinite;
    }
    @keyframes spin{
      0%{transform:rotate(0deg);}
      100%{transform:rotate(360deg);}
    }
  </style>
</head>
<body>
  <!-- 고정 로고 영역 -->
  <div class="header">
    <img src="835d2bbe-06ed-4cf2-8fd3-cacffa22b5ee.png" id="logoBtn" alt="브랜드 로고">
  </div>

  <!-- 로그인 화면 -->
  <section id="loginScreen" class="screen">
    <div class="app-title">한화손보 유병자 인수 가이드</div>
    <div class="card">
      <h2>로그인</h2>
      <div class="row">
        <input id="empno" type="text" placeholder="코드 입력" autocomplete="username">
      </div>
      <div class="row">
        <input id="password" type="password" placeholder="비밀번호 입력" autocomplete="current-password">
        <div class="hint">코드는 사전 승인된 기관에 부여됩니다.</div>
      </div>
      <button id="loginBtn">로그인</button>
      <button id="installBtn" class="secondary">홈화면에 추가</button>
      <div id="loginMsg" class="error" role="alert" aria-live="polite"></div>
      <div class="meta" id="empMeta"></div>
      <div class="meta" style="margin-top:1rem;">Copyright 2025 하세봉 all rights reserved.</div>
    </div>
  </section>

  <!-- 검색 화면 -->
  <section id="searchScreen" class="screen" style="display:none;">
    <div class="user-info" id="userInfo">
      <span id="userText"></span>
      <button id="logoutBtn" class="logout">로그아웃</button>
    </div>
    <div class="app-title">한화손보 유병자 인수 가이드</div>
    <div class="card container-narrow">
      <h2 style="margin-bottom:.5rem;">질병명 검색</h2>
      <div class="row">
        <input id="searchInput" type="text" placeholder="예시: 용종, 골절, 당뇨 등">
      </div>
      <button id="searchBtn" title="검색">검색</button>
      <div class="insurance-section">
        <div id="insuranceList"></div>
      </div>
      <div class="results" id="results"></div>
      <div class="meta" id="disMeta"></div>
      <div class="debug" id="debugInfo" style="display:none;"></div>
      <div class="meta" style="margin-top:1rem;">Copyright 2025 하세봉 all rights reserved.</div>
    </div>
  </section>

  <script>
  // 기존 JS 유지
  // ...

  // 로고 클릭 → 검색 초기화면 복귀
  document.addEventListener('DOMContentLoaded', () => {
    document.getElementById("logoBtn").addEventListener("click", () => {
      document.getElementById("loginScreen").style.display = "none";
      document.getElementById("searchScreen").style.display = "flex";
      document.getElementById("searchInput").value = "";
      document.getElementById("results").innerHTML = "";
      document.querySelector(".insurance-section").style.display = "block";
    });
  });
  </script>
</body>
</html>
